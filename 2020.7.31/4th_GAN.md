围绕GAN的研究可以分为两条主线，一是理论主线，从数学理论上研究如何解决GAN的不稳定性和模式崩塌问题，或者从信息理论和基于能量的模型等不同角度重新阐述它。二是应用主线，致力于将GAN应用于计算机视觉领域、利用GAN进行图像生成（指定图像合成、文本到图像，图像到图像、视频）以及将GAN应用于NLP或其它领域。

# 引言

在机器学习中，生成模型可以用来直接对数据建模，也可以用来建立变量间的条件概率分布。它的应用十分广泛，可以用来不同的数据进行建模，比如图像、文本、声音等。以图像生成为例，我们将图像表示为一个随机向量X，其中每一维都表示一个像素值。假设自然场景的图像都服从一个未知的分布p(x)，我们希望通过一些观测样本来估计其分布，高维随机向量一般比较难以直接建模，需要通过一些条件独立性来简化模型。但是，自然图像中不同像素之间存在的复杂的依赖关系，很难用一个明确的图模型来描述其依赖关系，因此直接建模p(x)比较困难，对生成模型的要求很高。

在GAN之前，人们就已经研究了很多生成模型，随着深度神经网络的发展，生成模型也得到了巨大的飞跃。目前有影响力的生成模型主要有Autoregressive model（自回归模型)、VAE、GLOW和GAN：

1. **自回归模型（Autoregressive model）**

自回归模型在PixelRNN[2]和PixelCNN[3]上展示了很不错的实验效果，但是由于是按照像素点去生成图像，导致计算成本高，在可并行性上受限，在处理大型数据如大型图像或视频具有一定的麻烦。

2. **变分自编码器（VAE）**

VAE是在Autoencoder的基础上让图像编码的潜在向量服从高斯分布从而实现图像的生成，优化了数据对数似然的下界，VAE在图像生成上是可并行的， 但是VAE存在着生成图像模糊的问题。

3. **基于流的方法（Glow）**

Glow提出了一种新的基于流的生成模型，通过寻找可逆的双射来实现输入和潜在空间的相互转换，其在标准图像建模基准上的对数似然性方面展示了改进的定量性能，特别是在高分辨率人脸图像合成和插值生成上取得了惊艳的效果。

4. **生成对抗网络（GAN）**

GAN的思想就是利用**博弈不断的优化生成器和判别器**从而使得**生成的图像与真实图像在分布上越来越相近**。GAN生成的图像比较清晰，在很多GAN的拓展工作中也取得了很大的提高。但是**GAN生成中的多样性不足以及训练过程不稳定是GAN一直以来的问题。**

# GAN-图像生成

根据不同的GAN所拥有的生成器和判别器的数量，可以将GAN图像生成的方法概括为三类：直接方法，迭代方法和分层方法。

![img](https://image.jiqizhixin.com/uploads/editor/c25fbdf0-cf36-4353-881f-a1c6a4a6b7af/640.png)

 **直接法**

早期的GANs都遵循在其模型中使用一个生成器和一个判别器的原理，并且生成器和判别器的结构是直接的，没有分支。如GAN 、DCGAN 、ImprovedGAN ，InfoGAN ，f-GAN 和GANINT-CLS 。这类方法在设计和实现上比较容易，通常也能得到良好的效果。

**分层法**

分层法的主要思想是将图像分成两部分，如“样式和结构”和“前景和背景”，然后在其模型中使用两个生成器和两个鉴别器，其中不同的生成器生成图像的不同部分，然后再结合起来。两个生成器之间的关系可以是并联的或串联的。

以SS-GAN 为例，其使用两个GAN，一个Structure-GAN用于生成表面结构，然后再由Style-GAN补充图片细节，最后生成图片，整体结构如下所示：

![img](https://image.jiqizhixin.com/uploads/editor/5dd41a04-5610-4da1-b361-888a0f00af7c/640.png)

 **迭代法**

迭代法使用具有相似或甚至相同结构的多个生成器，经过迭代生成从粗到细的图像。

以LAPGAN 为例：LAPGAN中的多个生成器执行相同的任务：最低级别的生成器仅将噪声向量作为输入并输出图像，而其他生成器都从前一个生成器获取图像并将噪声矢量作为输入，这些生成器结构的唯一区别在于输入/输出尺寸的大小，每一次迭代后的图像都拥有更多清晰的细节。

![img](https://image.jiqizhixin.com/uploads/editor/60fdc1c5-07ae-4e78-838e-a0c1c92393c1/640.png)

# GAN-图像修复
以Generative Face Completion为例

https://arxiv.org/abs/1704.05838

##这篇文章的模型主要由三个模块构成：Generator，Discriminator，Parsing network 具体结构见net.png,损失函数见loss.png
###1.Generator 
这里的 Generator 被设计为一个 autoencoder，输入不完整的图像，输出修复后的图像。这里我们使用了 VGG19的前半部分网络结构，外加2个卷积层，一个池化层，一个全链接层。decoder 和 encoder 是对称的，使用了 unpooling 层 用于放大特征图尺寸

###2.判别器D

如果只有一个生成器，那么生成的图片将会非常模糊，只有一个粗略的轮廓。因此，采用了两个判别器来对生成图片的细节进行完善，使得生成的图片更加真实。其中，有两个判别器：local discriminator和global discriminator。其中，局部判别器是为了让生成器生成图片中补全的部分更加真实，而整体的判别器是为了让整个生成的图片看起来更加真实。

###3. Semantic Regularization 
前面的两个部分其实就是原始GAN的变形，作者加上后面这一部分的原因是，前面生成的图片虽然整体上轮廓清晰比较真实，但是看上去却不像是人脸的图片。这里的 Parsing network 主要用于进一步完善缺失区域的生成图像的真实性。 

